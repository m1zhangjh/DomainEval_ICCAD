\vspace{-3pt}
\section{Introduction}
\label{sec:introduction}

%\begin{figure}[h]
%	\centering
%	\includegraphics[width=.5\linewidth]{fig/MAARflow.pdf}
%	\caption{Promising Many Apps ACC-Rich Platform}
%	\label{fig:domainDSE}
%\end{figure}

%Tips: Mention Embedded or edge computing.
\newtext{
%(One common platform benefit)
Streaming computing is promising in many fields, e.g. video analytics, software-defined ration, and radar, however, faces area and power limitations, especially in edge computing. 
Using heterogeneous ACC-rich platforms~\cite{melpignano2012platform} that combine general-purpose processor(s) (SW) and custom ACCs (HW) is the primary approach for efficient, high-performance stream computing.
Designing one platform for each application is prohibitively expensive, due to the non-recurring engineering (NRE) cost.
Streaming applications within the same field always sharing similar functionalities and structures, and one unified platform with the same set of ACCs could benefit.
%For example, in \figref{fig:domainDSE}, a set of applications sharing B-C kernels benefit from a platform with B-C ACCs.
%Designing a unified platform supporting many applications saves the prohibitively non-recurring engineering (NRE) cost compared with application-specific dedicated platforms designs.

%(Targeting Area: Heterogeneous Apps + Many ACCs Arch)
Creating a unified platform for a set of applications manually is already very hard for applications with homogeneous, repeated computation patterns, such as employed in Deep Convolutional Neural Networks\cite{chen2018eyeriss}. 
It becomes intractable for applications such as computer vision and software-defined radio with a wide range of computationally intensive and functionality diverse heterogeneous kernels. 
A monolithic ACC supports all kernels is an efficient application-specific solution but is not suitable for many applications due to its low flexibility and diverse acceleration requirements from different applications.
Many composable ACCs is a good choice to support many applications\cite{cong2014accelerator}. The number of ACCs will increase dramatically, where individual ACCs are less monolithic but smaller and configurable. ACCs can be composed to accelerate larger kernels (or even applications). 
Then the complexity of ACC allocation becomes high, and the design automation is needed.

%(Current Design Automation)
Current design automation mostly focuses on allocating one dedicated platform for one individual application. 
Some many applications ideas can be extracted from Platform-Based Design (PBD)\cite{PBD}. PBD designs the interconnection for many applications based on statistical information, however, the ACC allocation is derived by engineering experiences. There are also many researches about the mapping of different applications to an existing platform in isolation. However, there is no design automation for allocating one common platform for many applications. 


\begingroup
\setlength{\columnsep}{8pt}%
\begin{wrapfigure}{l}{0.5\linewidth}
	\vspace{-4pt}
	\begin{center}
		\includegraphics[width=\linewidth]{fig/MAARflow.pdf}
	\end{center}
	\vspace{-8pt}
	\caption{Unified Platform for Many Apps}
	\label{fig:domainDSE}
	\vspace{-4pt}
\end{wrapfigure}


%(Chanlleges)
As shown in \figref{fig:domainDSE}, ACC allocation for many applications has challenges in both traversal and evaluation.  
Due to targeting to multiple applications, the design space of platform allocation is significantly larger than single application design, and an efficient traversal is necessary.
Furthermore, the evaluation for many applications needs to have a fair focus on every application and provide an aggregated value to judge design quantitatively. Current platform evaluation primarily focuses on the effects of the platform on one application in isolation. When moving to a set of applications, the simple average sum of all application performances is unfair.

\endgroup

}



%Using heterogeneous ACC-rich platforms~\cite{melpignano2012platform} that combine general-purpose processor(s) (SW) and custom ACCs (HW) is the primary approach for efficient, high-performance stream computing.
%These platforms are typically designed targeting only a single application during allocation. Design Space Exploration (DSE) of one platform for each application is prohibitively expensive. In contrast to deep learning applications which often are computationally homogeneous and regular, such that a single monolithic accelerator can perform all linear algebraic computation required by deep learning algorithms, applications such as computer vision and software-defined radio demands a wide range of computationally intensive and functionality diverse heterogeneous accelerators (ACCs). The number of ACCs will increase dramatically, where individual ACCs are less monolithic but smaller and configurable. ACCs can be composed to accelerate larger kernels (or even applications).


%\figref{fig:domainDSE} shows an example of a platform using $B$-$C$ ACCs to efficiently support many applications, which share $B$ and $C$ kernels. 
%However, designing these platforms is a tremendous effort taking a vast amount of empiric knowledge into account. There is only little DSE methodology support for Many Applications ACC-Rich (MAAR) platforms because there is no existing evaluation to guide platform allocation for many applications. To feasibly allocate MAAR platforms, a MAAR DSE focusing on a set of applications, instead of individual applications in isolation, is needed.

%\begin{figure}[ht]
%  \centering
%  \begin{minipage}[t]{0.24\textwidth}
%    \includegraphics[width=.95\textwidth]{fig/MAARflow.pdf}
%    \caption{Promising Many Apps ACC-Rich Platform}
%    \label{fig:domainDSE}
%  \end{minipage}%
%  \hfill
%  \begin{minipage}[t]{0.23\textwidth}
%    \includegraphics[width=1\textwidth]{fig/effIntro.pdf}
%    \caption{Platform \newtext{Efficiency} for Applications}
%	\label{fig:perf}
%  \end{minipage}
%\end{figure}


%In \figref{fig:domainDSE}, many-application DSE has challenges in both design space traversal and a single design point (one platform) evaluation. Due to targeting to multiple applications, the design space of platform allocation is significantly larger than single application design, \newtext{and an efficient traversal is necessary.} 
%Furthermore, the evaluation for many applications needs to have a fair focus on every application and provide an aggregated value to judge design quantitatively. Current platform evaluation primarily focuses the effects of the platform on one application in isolation. When moving to a set of applications, the simple average sum of all application performances is unfair. \figref{fig:perf} demonstrates the challenge of a MAAR platform evaluation. Because of the big variation among different applications' \newtext{efficiency} on the platform, the 10\% highest efficiency applications will dominate the DSE, if the evaluation simply sums all performances. As a result, the designed platform will not be efficient for many \newtext{low-efficiency} applications. To achieve a highly flexible and an efficient MAAR platform, a fair evaluation needs to aid the DSE in balancing the consideration of all applications.



\newtext{To solve the challenges,} this paper introduces Unified ACC-rich Platform Allocation (UPA), guided by a platform evaluation for many applications with a balanced focus. To this end, the contributions of this paper are: (1) providing the flow of UPA, which is a combination of a heuristic traverse, elitist genetic algorithm (GA) and a fair evaluation for many applications; (2) defining relative efficiency of an application on a platform to have a normalized measure of improvement/achievement for different applications; (3) evaluating multiple methods to aggregate efficiency of many applications on a platform to quantitatively compare different platforms. 
The UPA fairly considers the contribution of many applications, and produces an efficient platform supporting all applications. 
In experiments using OpenVX applications, UPA provides unified platforms achieved 3.09 times the average efficiency improvement of dedicated platforms (FDP), and 1.39 times the improvement of DSS~\cite{zhang2018ds}, a previous unified platform design with an unfair evaluation. 


This paper is organized as follows: \secref{sec:related} summarizes the related works. \secref{sec:pre} introduces target ACC-rich platform and evaluation model for individual application. \secref{sec:eval} introduces MAAR DSE and fair MAAR platform evaluation methodology. \secref{sec:results} evaluates and analyzes the benefits of MAAR DSE with fair evaluation. Finally \secref{sec:conclusion} concludes this paper.


